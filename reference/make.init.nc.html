<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Function that generates a NetCDF file of initial conditions — make.init.nc • shinyrAtlantis</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Function that generates a NetCDF file of initial conditions — make.init.nc"><meta property="og:description" content="Takes data from two csv files and generates an Atlantis initial conditions NetCDF file.
The csv files should be generated using make.init.csv.
init.file contains all variable names to be included in the NetCDF file and their attributes.
This file also contains initial conditions and their spatial distribution (e.g., surface only, uniformly distributed in the vertical) if they are not box-specific.
Box-specific values are specified in horiz.file and must be labelled as custom in init.file."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinyrAtlantis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.4.0001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Atlantis-Ecosystem-Model/shinyrAtlantis/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Function that generates a NetCDF file of initial conditions</h1>
    <small class="dont-index">Source: <a href="https://github.com/Atlantis-Ecosystem-Model/shinyrAtlantis/blob/HEAD/R/initGen.R" class="external-link"><code>R/initGen.R</code></a></small>
    <div class="hidden name"><code>make.init.nc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes data from two csv files and generates an Atlantis initial conditions NetCDF file.
The csv files should be generated using <code><a href="make.init.csv.html">make.init.csv</a></code>.
<code>init.file</code> contains all variable names to be included in the NetCDF file and their attributes.
This file also contains initial conditions and their spatial distribution (e.g., surface only, uniformly distributed in the vertical) if they are not box-specific.
Box-specific values are specified in <code>horiz.file</code> and must be labelled as custom in <code>init.file</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make.init.nc</span><span class="op">(</span></span>
<span>  <span class="va">bgm.file</span>,</span>
<span>  <span class="va">cum.depths</span>,</span>
<span>  <span class="va">init.file</span>,</span>
<span>  <span class="va">horiz.file</span>,</span>
<span>  <span class="va">nc.file</span>,</span>
<span>  vert <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ice_model <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>bgm.file</dt>
<dd><p>Box geometry model (.bgm) file used by Atlantis that defines box boundaries and depths.</p></dd>


<dt>cum.depths</dt>
<dd><p>Vector of cumulative depths (starting with value zero).</p></dd>


<dt>init.file</dt>
<dd><p>csv file containing all variable names and their attributes. Also includes how the values are distributed in space and the vertical.</p></dd>


<dt>horiz.file</dt>
<dd><p>csv file containing box-defined values if customised flag is set for the horizontal distribution in <code>init.file</code>.</p></dd>


<dt>nc.file</dt>
<dd><p>name of the NetCDF file generated which contains the initial conditions. This file can be used as input to Atlantis.</p></dd>


<dt>vert</dt>
<dd><p>name and location of the csv file containing the functional groups' vertical distribution</p></dd>


<dt>ice_model</dt>
<dd><p>Boolean string. Is the model using Fe and Ice dependent species?</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Null (always). Produces a NetCDF file with the name <code>nc.file</code>.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">grp.file</span>   <span class="op">&lt;-</span> <span class="st">"GBRGroups.csv"</span></span></span>
<span class="r-in"><span><span class="va">bgm.file</span>   <span class="op">&lt;-</span> <span class="st">"gbr_test.bgm"</span></span></span>
<span class="r-in"><span><span class="va">cum.depths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">5</span>,<span class="fl">10</span>,<span class="fl">20</span>,<span class="fl">50</span>,<span class="fl">100</span>,<span class="fl">200</span>,<span class="fl">3000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">csv.name</span>   <span class="op">&lt;-</span> <span class="st">"GBRtemplate"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="make.init.csv.html">make.init.csv</a></span><span class="op">(</span><span class="va">grp.file</span>, <span class="va">bgm.file</span>, <span class="va">cum.depths</span>, <span class="va">csv.name</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## copy GBRtemplate_init.csv to GBR_init.csv</span></span></span>
<span class="r-in"><span><span class="co">## copy GBRtemplate_horiz.csv to GBR_horiz.csv</span></span></span>
<span class="r-in"><span><span class="co">## edit files GBR_init.csv and GBR_horiz.csv by entering initial conditions</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">init.file</span>  <span class="op">&lt;-</span> <span class="st">"GBR_init.csv"</span></span></span>
<span class="r-in"><span><span class="va">horiz.file</span> <span class="op">&lt;-</span> <span class="st">"GBR_horiz.csv"</span></span></span>
<span class="r-in"><span><span class="va">nc.file</span>    <span class="op">&lt;-</span> <span class="st">"GBRtemplate.nc"</span></span></span>
<span class="r-in"><span><span class="fu">make.init.nc</span><span class="op">(</span><span class="va">bgm.file</span>, <span class="va">cum.depths</span>, <span class="va">init.file</span>, <span class="va">horiz.file</span>, <span class="va">nc.file</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## view the initial conditions file</span></span></span>
<span class="r-in"><span><span class="va">init.obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="make.sh.init.object.html">make.sh.init.object</a></span><span class="op">(</span><span class="va">bgm.file</span>, <span class="va">nc.file</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="sh.init.html">sh.init</a></span><span class="op">(</span><span class="va">init.obj</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Michael D. Sumner, Javier Porobic, Shane A. Richards.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

